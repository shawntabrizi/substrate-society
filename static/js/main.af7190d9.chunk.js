(this["webpackJsonpsubstrate-society"]=this["webpackJsonpsubstrate-society"]||[]).push([[0],{1041:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(177),o=n.n(c),i=n(22),l=n(3),u=n(1114),s=n(1105),d=n(1106),m=n(1102),p=n(1115),b=(n(684),n(31)),f=n(21),E=n.n(f),g=n(35),y=n(468),O=n(279),h=n(472),v=n.n(h);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n(625),{},n(686),{},["REACT_APP_PROVIDER_SOCKET","REACT_APP_DEVELOPMENT_KEYRING"].reduce((function(e,t){return void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/substrate-society"})[t]&&(e[t.slice(10)]=Object({NODE_ENV:"production",PUBLIC_URL:"/substrate-society"})[t]),e}),{}));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={socket:j.PROVIDER_SOCKET,types:j.CUSTOM_TYPES,keyring:null,keyringState:null,api:null,apiState:null},k=function(e,t){switch(t.type){case"RESET_SOCKET":return C({},e,{socket:t.payload||e.socket,api:null,apiState:null});case"CONNECT":return C({},e,{api:t.payload,apiState:"CONNECTING"});case"CONNECT_SUCCESS":return C({},e,{apiState:"READY"});case"CONNECT_ERROR":return C({},e,{apiState:"ERROR"});case"SET_KEYRING":return C({},e,{keyring:t.payload,keyringState:"READY"});case"KEYRING_ERROR":return C({},e,{keyring:null,keyringState:"ERROR"});default:throw new Error("Unknown type: ".concat(t.type))}},N=a.a.createContext(),R=function(e){var t=C({},w);["socket","types"].forEach((function(n){t[n]="undefined"===typeof e[n]?t[n]:e[n]}));var n=Object(r.useReducer)(k,t),c=Object(l.a)(n,2),o=c[0],i=c[1];return a.a.createElement(N.Provider,{value:[o,i]},e.children)};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){var e=Object(r.useContext)(N),t=Object(l.a)(e,2),n=t[0],a=t[1],c=n.api,o=n.socket,i=n.types,u=Object(r.useCallback)(Object(g.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:return t=new y.WsProvider(o),e.prev=3,e.next=6,y.ApiPromise.create({provider:t,types:i});case 6:return n=e.sent,a({type:"CONNECT",payload:n}),e.next=10,n.isReady;case 10:a({type:"CONNECT_SUCCESS"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),a({type:"CONNECT_ERROR"});case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),[c,o,i,a]),s=n.keyringState,d=Object(r.useCallback)(Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(O.web3Enable)(j.APP_NAME);case 5:return e.next=7,Object(O.web3Accounts)();case 7:t=(t=e.sent).map((function(e){var t=e.address,n=e.meta;return{address:t,meta:x({},n,{name:"".concat(n.name," (").concat(n.source,")")})}})),v.a.loadAll({isDevelopment:j.DEVELOPMENT_KEYRING},t),a({type:"SET_KEYRING",payload:v.a}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a({type:"KEYRING_ERROR"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),[s,a]);return Object(r.useEffect)((function(){u()}),[u]),Object(r.useEffect)((function(){d()}),[d]),x({},n,{dispatch:a})},T=n(641),Y=n.n(T),q=n(642);n.n(q)()(Y.a);function I(e){var t=D().api;return window.api=t,window.util=n(0),window.util_crypto=n(23),window.keyring=n(336),null}var _=n(1083);function M(e){var t=e.accountPair,n=void 0===t?null:t,r=e.label,c=e.setStatus,o=e.basic,l=void 0===o?null:o,u=e.primary,s=void 0===u?null:u,d=e.style,m=void 0===d?null:d,p=e.color,b=void 0===p?null:p,f=e.type,y=void 0===f?null:f,h=e.attrs,v=void 0===h?null:h,S=e.disabled,j=void 0!==S&&S,P=D().api,C=v.params,w=void 0===C?null:C,k=v.sudo,N=void 0!==k&&k,R=v.tx,A=void 0===R?null:R,x=function(){return"QUERY"===y},T=function(){var e=Object(g.a)(E.a.mark((function e(){var t,r,a,o,l,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,r=n.meta,a=r.source,!r.isInjected){e.next=9;break}return e.next=4,Object(O.web3FromSource)(a);case 4:l=e.sent,o=t,P.setSigner(l.signer),e.next=10;break;case 9:o=n;case 10:c("Sending...");try{u=w?N?A.sudo.apply(A,Object(i.a)(w)):A.apply(void 0,Object(i.a)(w)):N?A.sudo():A()}catch(s){console.error("ERROR forming transaction:",s),c(s.toString())}u&&u.signAndSend(o,(function(e){var t=e.status;t.isFinalized?c("Completed at block hash #".concat(t.asFinalized.toString())):c("Current transaction status: ".concat(t.type))})).catch((function(e){c(":( transaction failed"),console.error("ERROR transaction:",e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.apply(void 0,Object(i.a)(w));case 3:t=e.sent,c(t.toString()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("ERROR query:",e.t0),c(e.t0.toString());case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(_.a,{primary:s,basic:l,style:m,color:b,type:"submit",onClick:x()?Y:T,disabled:j||!A||!x()&&!n},r)}var B=n(1113),V=n(667),z=n(182),H=n(1111),U=n(281);function K(e){var t=D(),n=t.api,c=t.keyring,o=e.setAccountAddress,i=Object(r.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],p=c.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),b=p.length>0?p[0].value:"";Object(r.useEffect)((function(){d(b),o(b)}),[o,b]);return a.a.createElement(B.a,{attached:"top",tabular:!0,style:{backgroundColor:"#fff",borderColor:"#fff",paddingTop:"1em",paddingBottom:"1em"}},a.a.createElement(m.a,null,a.a.createElement(B.a.Menu,null,a.a.createElement(V.a,{src:"Substrate-Logo.png",size:"mini"})),a.a.createElement(B.a.Menu,{position:"right"},s?null:a.a.createElement("span",null,"Add your account with the"," ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/polkadot-js/extension"},"Polkadot JS Extension")),a.a.createElement(z.a,{name:"users",size:"large",circular:!0,color:s?"green":"red"}),a.a.createElement(H.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select an account",options:p,onChange:function(e,t){var n;n=t.value,o(n),d(n)},value:s}),n.query.system&&n.query.system.account?a.a.createElement(L,{accountSelected:s}):null)))}function L(e){var t=e.accountSelected,n=D().api,c=Object(r.useState)(0),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){var e;return t&&n.query.system.account(t,(function(e){u(e.data.free.toString())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t,n.query.system]),t?a.a.createElement(U.a,{pointing:"left"},a.a.createElement(z.a,{name:"money bill alternate",color:i>0?"green":"red"}),i):null}function F(e){var t=D().api,n=e.finalized,c=e.blockNumber,o=e.setBlockNumber,i=Object(r.useState)(0),u=Object(l.a)(i,2),s=(u[0],u[1]),d=n?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber;Object(r.useEffect)((function(){var e=null;return d((function(e){o(e.toNumber()),s(0)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[d,o]);var m=function(){s((function(e){return e+1}))};return Object(r.useEffect)((function(){var e=setInterval(m,1e3);return function(){return clearInterval(e)}}),[]),a.a.createElement(p.a.Column,null,a.a.createElement("div",null,n?"FINALIZED ":"BLOCK "),a.a.createElement("div",null,c))}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){var t=D().api,n=e.users,a=e.show,c=void 0!==a&&a,o=e.indices,i=e.setIndices;return Object(r.useEffect)((function(){var e=!0,r=!1,a=void 0;try{for(var c,l=function(){var e=c.value;e in o||t.derive.accounts.idToIndex(e,(function(t){t&&i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,Object(b.a)({},e,t)))}))},u=n[Symbol.iterator]();!(e=(c=u.next()).done);e=!0)l()}catch(s){r=!0,a=s}finally{try{e||null==u.return||u.return()}finally{if(r)throw a}}return function(){return null}}),[t.derive.accounts,o,i,n]),c?JSON.stringify(o):null}var W=n(1107),Q=n(1103),X=n(1110);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){var t=D().api,n=Object(r.useState)(null),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)({value:"",tip:"",who:""}),s=Object(l.a)(u,2),d=s[0],m=s[1],p=e.accountPair,f=e.members,E=e.bids,g=e.candidates,y=(e.suspendedMembers,e.suspendedCandidates,function(e,t){return m((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(b.a)({},t.state,t.value))}))}),O=d.value,h=d.tip,v=d.who;return p&&f.includes(p.address)?a.a.createElement("div",null,a.a.createElement("h2",null,"You are a Member of the Society"),a.a.createElement("h3",null,"Vouch for Others"),a.a.createElement(W.a,null,a.a.createElement(Q.a,{onChange:y,placeholder:"Who",state:"who",type:"text",action:!0}),a.a.createElement(Q.a,{onChange:y,placeholder:"Bid Amount",state:"value",type:"text",action:!0}),a.a.createElement(Q.a,{onChange:y,placeholder:"Tip Amount",state:"tip",type:"text",action:!0}),a.a.createElement(M,{accountPair:p,label:"Place Vouch",setStatus:i,type:"TRANSACTION",attrs:{params:[v,O,h],tx:t.tx.society.vouch}})),o):p&&E.some((function(e){return e.who.toString()===p.address}))?a.a.createElement("div",null,a.a.createElement("h2",null,"You are a Bid"),a.a.createElement("h3",null,"Wait for your bid to be accepted or unbid."),a.a.createElement(W.a,null,a.a.createElement(M,{accountPair:p,label:"Unbid",setStatus:i,type:"TRANSACTION",attrs:{params:[],tx:t.tx.society.unbid}})),o):p&&g.some((function(e){return e.who.toString()===p.address}))?a.a.createElement("div",null,a.a.createElement("h2",null,"You are a Candidate"),a.a.createElement("h3",null,"Ask members to vote for you!")):a.a.createElement("div",null,a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("h1",null,">> Join the Society <<")},a.a.createElement(X.a.Content,null,a.a.createElement("h3",null,"Make a Bid"),a.a.createElement(W.a,null,a.a.createElement(Q.a,{onChange:y,placeholder:"Bid Amount",state:"value",type:"text",action:!0}),a.a.createElement(M,{accountPair:p,label:"Place Bid",setStatus:i,type:"TRANSACTION",attrs:{params:[O],tx:t.tx.society.bid}})),o)))}function ee(e){var t=D().api;return t.query.society&&t.query.society.bids?a.a.createElement($,e):null}var te=n(0),ne=n(23);function re(e){e.accountPair;var t=D().api,n=Object(r.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(""),s=Object(l.a)(u,2),d=(s[0],s[1],Object(te.stringToU8a)("modlpy/socie".padEnd(32,"\0")));return Object(r.useEffect)((function(){var e=null;return t.query.system.account(d,(function(e){i(e.data.free.toString())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[d,t.query.system.account]),a.a.createElement(p.a.Column,null,a.a.createElement("a",{style:{color:"inherit"},target:"_blank",href:"https://polkascan.io/pre/kusama/account/"+Object(ne.encodeAddress)(d)},a.a.createElement("div",null,"BALANCE"),a.a.createElement("div",null,Object(te.formatBalance)(o))))}var ae=n(1112);function ce(e){var t=e.accountPair,n=e.users,r=e.indices,c=e.proofs;return 0!==n.length?n.map((function(e){return a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("span",null," ",r[e.who]?r[e.who].toString():e.who.toString())},a.a.createElement(X.a.Content,null,a.a.createElement(ae.a,{key:e.who.toString(),color:t.address===e.who.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(V.a,{floated:"right",size:"mini",src:c&&c[e.who]?c[e.who].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(ae.a.Header,null,r[e.who]?r[e.who].toString():e.who.toString()),a.a.createElement(ae.a.Meta,null,r[e.who]?e.who.toString():"Candidate"),a.a.createElement(ae.a.Description,null,e.kind.isDeposit?"Deposit Amount: "+e.kind.asDeposit.toString():a.a.createElement(a.a.Fragment,null,"Vouching Member: "+e.kind.asVouch[0].toString(),a.a.createElement("br",null),"Vouching Tip: "+e.kind.asVouch[1].toString()))),a.a.createElement(ae.a.Content,{extra:!0},e.value.toString()))))})):null}function oe(e){var t=D().api,n=e.accountPair,c=e.bids,o=e.setBids,i=(e.blockNumber,e.indices),l=e.proofs;t.consts.society.rotationPeriod.toNumber();return Object(r.useEffect)((function(){var e=null;return t.query.society.bids(o).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,o]),a.a.createElement(p.a.Column,null,c.length>0?a.a.createElement("h2",null,"Bids:",a.a.createElement(ce,{users:c,userType:"Bid",accountPair:n,indices:i,proofs:l})):"")}function ie(e){var t=D().api;return t.query.society&&t.query.society.bids?a.a.createElement(oe,e):null}var le=n(1108);function ue(e){var t=D().api,n=e.accountPair,r=e.setStatus,c=e.users,o=e.votes,i=e.members,l=e.indices,u=e.proofs;return 0!==c.length?c.map((function(e){return a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("span",null," ",l[e.who]?l[e.who].toString():e.who.toString())},a.a.createElement(X.a.Content,null,a.a.createElement(ae.a,{key:e,color:n.address===e.who.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(le.a,{trigger:a.a.createElement(V.a,{floated:"right",size:"mini",src:u&&u[e.who]?u[e.who].image:"https://i.imgur.com/Ip7AguC.png"})},a.a.createElement(le.a.Content,{image:!0},a.a.createElement(V.a,{src:u&&u[e.who]?u[e.who].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(le.a.Description,null))),a.a.createElement(ae.a.Header,null,l[e.who]?l[e.who].toString():e.who.toString()),a.a.createElement(ae.a.Meta,null,l[e.who]?e.who.toString():"Candidate"),a.a.createElement(ae.a.Description,null,e.kind.toString(),a.a.createElement("br",null),o.filter((function(t){return t.candidate===e.who})).map((function(e){return"0x02"===e.vote.toString()?a.a.createElement(X.a,{key:e.candidate+e.member,content:e.member.toString(),header:"Approved",trigger:a.a.createElement(z.a,{circular:!0,color:"green",name:"checkmark"})}):"0x01"===e.vote.toString()?a.a.createElement(X.a,{key:e.candidate+e.member,content:e.member.toString(),header:"Rejected",trigger:a.a.createElement(z.a,{circular:!0,color:"red",name:"cancel"})}):"0x00"===e.vote.toString()?a.a.createElement(X.a,{key:e.candidate+e.member,content:e.member.toString(),header:"Skeptic",trigger:a.a.createElement(z.a,{circular:!0,color:"yellow",name:"exclamation"})}):a.a.createElement(X.a,{key:e.candidate+e.member,content:e.member.toString(),header:"Not Voted",trigger:a.a.createElement(z.a,{circular:!0,color:"grey",name:"question"})})})))),a.a.createElement(ae.a.Content,{extra:!0},e.value.toString(),a.a.createElement("div",{className:"ui three buttons"},a.a.createElement(M,{accountPair:n,label:"Reject",setStatus:r,type:"TRANSACTION",color:"red",basic:!0,attrs:{params:[e.who,!1],tx:t.tx.society.vote},disabled:n&&!i.includes(n.address)}),a.a.createElement(M,{accountPair:n,label:"Approve",setStatus:r,type:"TRANSACTION",color:"green",basic:!0,attrs:{params:[e.who,!0],tx:t.tx.society.vote},disabled:n&&!i.includes(n.address)}))))))})):null}function se(e){var t=D().api,n=Object(r.useState)(null),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)([]),s=Object(l.a)(u,2),d=s[0],m=s[1],p=e.accountPair,b=e.members,f=e.candidates,E=e.setCandidates,g=(e.blockNumber,e.indices),y=e.proofs;t.consts.society.rotationPeriod.toNumber();return Object(r.useEffect)((function(){var e=null;return t.query.society.candidates(E).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,E]),Object(r.useEffect)((function(){var e=null,n=[],r=!0,a=!1,c=void 0;try{for(var o,i=f[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,u=!0,s=!1,d=void 0;try{for(var p,E=b[Symbol.iterator]();!(u=(p=E.next()).done);u=!0){var g=p.value;n.push([t.query.society.votes,[l.who,g]])}}catch(y){s=!0,d=y}finally{try{u||null==E.return||E.return()}finally{if(s)throw d}}}}catch(y){a=!0,c=y}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return t.queryMulti(n,(function(e){var t=[],n=0,r=!0,a=!1,c=void 0;try{for(var o,i=f[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,u=!0,s=!1,d=void 0;try{for(var p,E=b[Symbol.iterator]();!(u=(p=E.next()).done);u=!0){var g=p.value;t.push({candidate:l.who,member:g,vote:e[n]}),n+=1}}catch(y){s=!0,d=y}finally{try{u||null==E.return||E.return()}finally{if(s)throw d}}}}catch(y){a=!0,c=y}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}m(t)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t,t.query.society,f,b]),a.a.createElement("div",null,f.length>0?a.a.createElement("h2",null,"Candidates:",a.a.createElement(ue,{users:f,votes:d,accountPair:p,setStatus:i,members:b,indices:g,proofs:y})):"",o)}function de(e){var t=D().api;return t.query.society&&t.query.society.bids?a.a.createElement(se,e):null}function me(e){var t=e.defender,n=e.accountPair,c=e.votes,o=e.members,i=e.indices,u=e.proofs,s=D().api,d=Object(r.useState)(null),m=Object(l.a)(d,2),p=m[0],b=m[1];return t?a.a.createElement(ae.a,{color:n.address===t.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(le.a,{trigger:a.a.createElement(V.a,{floated:"right",size:"mini",src:u&&u[t]?u[t].image:"https://i.imgur.com/Ip7AguC.png"})},a.a.createElement(le.a.Content,{image:!0},a.a.createElement(V.a,{src:u&&u[t]?u[t].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(le.a.Description,null))),a.a.createElement(ae.a.Header,null,i[t]?i[t].toString():t.toString()),a.a.createElement(ae.a.Meta,null,i[t]?t.toString():"Defender"),a.a.createElement(ae.a.Description,null,Object.keys(c).map((function(e){return"0x02"===c[e].toString()?a.a.createElement(X.a,{key:e,content:e,header:"Approved",trigger:a.a.createElement(z.a,{circular:!0,color:"green",name:"checkmark"})}):"0x01"===c[e].toString()?a.a.createElement(X.a,{key:e,content:e,header:"Rejected",trigger:a.a.createElement(z.a,{circular:!0,color:"red",name:"cancel"})}):a.a.createElement(X.a,{key:e,content:e,header:"Not Voted",trigger:a.a.createElement(z.a,{circular:!0,color:"grey",name:"question"})})})))),a.a.createElement(ae.a.Content,{extra:!0},a.a.createElement("div",{className:"ui three buttons"},a.a.createElement(M,{accountPair:n,label:"Reject",setStatus:b,type:"TRANSACTION",color:"red",basic:!0,attrs:{params:[!1],tx:s.tx.society.defenderVote},disabled:n&&!o.includes(n.address)}),a.a.createElement(M,{accountPair:n,label:"Approve",setStatus:b,type:"TRANSACTION",color:"green",basic:!0,attrs:{params:[!0],tx:s.tx.society.defenderVote},disabled:n&&!o.includes(n.address)})),p)):null}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){var t=D().api,n=Object(r.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)([]),s=Object(l.a)(u,2),d=s[0],m=s[1],p=e.accountPair,f=e.members,E=e.indices,g=e.proofs;return Object(r.useEffect)((function(){var e=null;return t.query.society.defender(i).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society]),Object(r.useEffect)((function(){var e=null;return t.query.society.defenderVotes.multi(f,(function(e){var t=f.reduce((function(t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,Object(b.a)({},n,e[r]))}),{});m(t)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,f]),a.a.createElement(me,{defender:o,votes:d,accountPair:p,members:f,indices:E,proofs:g})}function fe(e){var t=D().api;return t.query.society&&t.query.society.defender&&t.query.society.defenderVotes?a.a.createElement(be,e):null}function Ee(e){var t=D().api,n=e.blockNumber,r=e.accountPair,c=e.members,o=e.indices,i=e.proofs,l=t.consts.society.challengePeriod.toNumber();return a.a.createElement(p.a.Column,null,a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("div",null,a.a.createElement("div",null,"CHALLENGE"),a.a.createElement("div",null,l-n%l))},a.a.createElement(X.a.Content,null,a.a.createElement(fe,{accountPair:r,members:c,blockNumber:n,indices:o,proofs:i}))))}function ge(e){var t=D().api;return t.query.society&&t.query.society.bids?a.a.createElement(Ee,e):null}function ye(e){var t=e.users,n=e.strikes,r=e.indices,c=e.proofs;return 0!==t.length?t.map((function(t,o){return a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("span",null," ",r[t]?r[t].toString():t.toString())},a.a.createElement(X.a.Content,null,a.a.createElement(ae.a,{key:t,color:e.accountPair.address===t.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(le.a,{trigger:a.a.createElement(V.a,{floated:"right",size:"mini",src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"})},a.a.createElement(le.a.Content,{image:!0},a.a.createElement(V.a,{src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(le.a.Description,null))),a.a.createElement(ae.a.Header,null,r[t]?r[t].toString():t.toString()),a.a.createElement(ae.a.Meta,null,r[t]?t.toString():"Member"),a.a.createElement(ae.a.Description,null,"Description")),a.a.createElement(ae.a.Content,{extra:!0},"Strikes: "+n[o]))))})):null}function Oe(e){var t=D().api,n=Object(r.useState)([]),c=Object(l.a)(n,2),o=c[0],i=c[1],u=e.accountPair,s=e.members,d=e.setMembers,m=e.indices,p=e.proofs;return Object(r.useEffect)((function(){var e=null;return t.query.society.members(d).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,d]),Object(r.useEffect)((function(){var e=null;return t.query.society.strikes.multi(s,i).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,s,o]),a.a.createElement("div",null,a.a.createElement("h2",null,"THE MEMBERS"),a.a.createElement("h3",null,a.a.createElement(ye,{users:s,strikes:o,accountPair:u,indices:m,proofs:p})))}function he(e){var t=D().api;return t.query.society&&t.query.society.members?a.a.createElement(Oe,e):null}function ve(e){var t=e.founder,n=e.accountPair,r=e.indices,c=e.proofs;return t?a.a.createElement(ae.a,{color:n&&n.address===t.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(le.a,{trigger:a.a.createElement(V.a,{floated:"right",size:"mini",src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"})},a.a.createElement(le.a.Content,{image:!0},a.a.createElement(V.a,{src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(le.a.Description,null))),a.a.createElement(ae.a.Header,null,r[t]?r[t].toString():t.toString()),a.a.createElement(ae.a.Meta,null,r[t]?t.toString():"Founder"),a.a.createElement(ae.a.Description,null,c[t]?c[t].description:"")),a.a.createElement(ae.a.Content,{extra:!0},"Founder")):null}function Se(e){var t=D().api,n=e.accountPair,c=e.founder,o=e.setFounder,i=e.indices,l=e.proofs;Object(r.useEffect)((function(){var e=null;return t.query.society.founder((function(e){o(e.toString())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,o]);var u=i[c]?i[c].toString():c.toString();return a.a.createElement(p.a.Column,null,a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("div",null,a.a.createElement("div",null,"FOUNDER"),a.a.createElement("div",null,u))},a.a.createElement(X.a.Content,null,a.a.createElement(ve,{founder:c,accountPair:n,indices:i,proofs:l}))))}function je(e){var t=e.head,n=e.accountPair,r=e.indices,c=e.proofs;return t?a.a.createElement(ae.a,{color:n&&n.address===t.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(le.a,{trigger:a.a.createElement(V.a,{floated:"right",size:"mini",src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"})},a.a.createElement(le.a.Content,{image:!0},a.a.createElement(V.a,{src:c&&c[t]?c[t].image:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(le.a.Description,null))),a.a.createElement(ae.a.Header,null,r[t]?r[t].toString():t.toString()),a.a.createElement(ae.a.Meta,null,r[t]?t.toString():"Head"),a.a.createElement(ae.a.Description,null,"description")),a.a.createElement(ae.a.Content,{extra:!0},"Head")):null}function Pe(e){var t=D().api,n=e.accountPair,c=e.head,o=e.setHead,i=e.indices,l=e.proofs;Object(r.useEffect)((function(){var e=null;return t.query.society.head((function(e){o(e.toString())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society,c,o]);var u=i[c]?i[c].toString():c.toString();return a.a.createElement(p.a.Column,null,a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("div",null,a.a.createElement("div",null,"HEAD"),a.a.createElement("div",null,u))},a.a.createElement(X.a.Content,null,a.a.createElement(je,{head:c,accountPair:n,indices:i,proofs:l}))))}function Ce(e){var t=D().api,n=Object(r.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){var e=null;return t.query.society.pot((function(e){i(e.toString())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.society]),a.a.createElement(p.a.Column,null,a.a.createElement("div",null,"POT"),a.a.createElement("div",null,Object(te.formatBalance)(o)))}function we(e){var t=D().api,n=e.blockNumber,r=t.consts.society.rotationPeriod.toNumber();return a.a.createElement(p.a.Column,null,a.a.createElement("div",null,"ROTATION"),a.a.createElement("div",null,r-n%r))}function ke(e){var t=D().api;return t.query.society&&t.query.society.bids?a.a.createElement(we,e):null}function Ne(e){var t=D().api,n=e.accountPair,r=e.setStatus,c=e.judgementOrigin,o=e.users;return 0!==o.length?o.map((function(e){return a.a.createElement(X.a,{hoverable:!0,trigger:a.a.createElement("span",null," ",e.toString())},a.a.createElement(X.a.Content,null,a.a.createElement(ae.a,{key:e.toString()},a.a.createElement(ae.a.Content,null,a.a.createElement(V.a,{floated:"right",size:"mini",src:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(ae.a.Header,null,e.toString()),a.a.createElement(ae.a.Meta,null,"Suspended Candidate"),a.a.createElement(ae.a.Description,null,"Contact the founder to be judged.")),a.a.createElement(ae.a.Content,{extra:!0},a.a.createElement("div",{className:"ui three buttons"},a.a.createElement(M,{accountPair:n,label:"Reject",setStatus:r,type:"TRANSACTION",color:"red",basic:!0,attrs:{params:[e,1],tx:t.tx.society.judgeSuspendedCandidate},disabled:n&&n.address!==c}),a.a.createElement(M,{accountPair:n,label:"Rebid",setStatus:r,type:"TRANSACTION",color:"grey",basic:!0,attrs:{params:[e,0],tx:t.tx.society.judgeSuspendedCandidate},disabled:n&&n.address!==c}),a.a.createElement(M,{accountPair:n,label:"Approve",setStatus:r,type:"TRANSACTION",color:"green",basic:!0,attrs:{params:[e,2],tx:t.tx.society.judgeSuspendedCandidate},disabled:n&&n.address!==c}))))))})):null}function Re(e){var t=D(),n=t.api,c=t.keyring,o=Object(r.useState)(null),i=Object(l.a)(o,2),u=i[0],s=i[1],d=e.accountPair,m=e.founder,p=e.suspendedCandidates,b=e.setSuspendedCandidates;return Object(r.useEffect)((function(){var e=c.getPairs().map((function(e){return e.address})),t=null;return n.query.society.suspendedCandidates.multi(e,(function(t){var n=[];for(var r in t)t[r].isSome&&n.push(e[r]);b(n)})).then((function(e){t=e})).catch(console.error),function(){return t&&t()}}),[n.query.society.suspendedCandidates,c,b]),a.a.createElement("div",null,p.length>0?a.a.createElement("div",null,"Suspended Candidates:",a.a.createElement(ae.a.Group,null,a.a.createElement(Ne,{users:p,accountPair:d,setStatus:s,judgementOrigin:m}))):"",u)}function Ae(e){var t=D().api;return t.query.society&&t.query.society.suspendedCandidates?a.a.createElement(Re,e):null}function xe(e){var t=D().api,n=e.accountPair,r=e.setStatus,c=e.users,o=e.judgementOrigin;return 0!==c.length?c.map((function(e){return a.a.createElement(ae.a,{key:e,color:n.address===e.toString()?"green":null},a.a.createElement(ae.a.Content,null,a.a.createElement(V.a,{floated:"right",size:"mini",src:"https://i.imgur.com/Ip7AguC.png"}),a.a.createElement(ae.a.Header,null,e),a.a.createElement(ae.a.Meta,null,"Suspended Member"),a.a.createElement(ae.a.Description,null,"Contact the founder to be judged.")),a.a.createElement(ae.a.Content,{extra:!0},a.a.createElement("div",{className:"ui three buttons"},a.a.createElement(M,{accountPair:n,label:"Kick",setStatus:r,type:"TRANSACTION",color:"red",basic:!0,attrs:{params:[e,!1],tx:t.tx.society.judgeSuspendedMember},disabled:n&&n.address!==o}),a.a.createElement(M,{accountPair:n,label:"Forgive",setStatus:r,type:"TRANSACTION",color:"green",basic:!0,attrs:{params:[e,!0],tx:t.tx.society.judgeSuspendedMember},disabled:n&&n.address!==o}))))})):null}function De(e){var t=D(),n=t.api,c=t.keyring,o=Object(r.useState)(null),i=Object(l.a)(o,2),u=i[0],s=i[1],d=e.accountPair,m=e.founder,p=e.suspendedMembers,b=e.setSuspendedMembers;return Object(r.useEffect)((function(){var e=c.getPairs().map((function(e){return e.address})),t=null;return n.query.society.suspendedMembers.multi(e,(function(t){var n=[];for(var r in t)t[r].isTrue&&n.push(e[r]);b(n)})).then((function(e){t=e})).catch(console.error),function(){return t&&t()}}),[n.query.society.suspendedMembers,c,b]),a.a.createElement("div",null,p.length>0?a.a.createElement("h2",null,"Suspended Members",a.a.createElement(ae.a.Group,null,a.a.createElement(xe,{users:p,accountPair:d,setStatus:s,judgementOrigin:m}))):"",u)}function Te(e){var t=D().api;return t.query.society&&t.query.society.suspendedMembers?a.a.createElement(De,e):null}function Ye(){return a.a.createElement("pre",null,a.a.createElement("code",null,'\n.dP"Y8 88   88 88""Yb .dP"Y8 888888 88""Yb    db    888888 888888 \n`Ybo." 88   88 88__dP `Ybo."   88   88__dP   dPYb     88   88__   \no.`Y8b Y8   8P 88""Yb o.`Y8b   88   88"Yb   dP__Yb    88   88""   \n8bodP\' `YbodP\' 88oodP 8bodP\'   88   88  Yb dP""""Yb   88   888888 \n\n ad88888ba     ,ad8888ba,      ,ad8888ba,   88  88888888888  888888888888  8b        d8  \nd8"     "8b   d8"\'    `"8b    d8"\'    `"8b  88  88                88        Y8,    ,8P   \nY8,          d8\'        `8b  d8\'            88  88                88         Y8,  ,8P    \n`Y8aaaaa,    88          88  88             88  88aaaaa           88          "8aa8"     \n  `"""""8b,  88          88  88             88  88"""""           88           `88\'      \n        `8b  Y8,        ,8P  Y8,            88  88                88            88       \nY8a     a8P   Y8a.    .a8P    Y8a.    .a8P  88  88                88            88       \n "Y88888P"     `"Y8888Y"\'      `"Y8888Y"\'   88  88888888888       88            88       \n\n\n==========================================================================================\n==========================================================================================\n    '))}function qe(){return a.a.createElement("div",null,a.a.createElement("pre",null,a.a.createElement("code",null,"\n==========================================================================================\n==========================================================================================\n")),a.a.createElement("a",{style:{color:"inherit"},target:"_blank",href:"https://polkascan.io/pre/kusama-cc3/transaction/0x948d3a4378914341dc7af9220a4c73acb2b3f72a70f14ee8089799da16d94c17"},a.a.createElement("pre",null,a.a.createElement("code",null,'\n888888 88  88 888888     88""Yb 88   88 88     888888 .dP"Y8 \n  88   88  88 88__       88__dP 88   88 88     88__   `Ybo." \n  88   888888 88""       88"Yb  Y8   8P 88  .o 88""   o.`Y8b \n  88   88  88 888888     88  Yb `YbodP\' 88ood8 888888 8bodP\' \n    '))))}var Ie=n(132);function _e(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=D(),b=o.apiState,f=o.keyring,E=o.keyringState,g=Object(r.useState)([]),y=Object(l.a)(g,2),O=y[0],h=y[1],v=Object(r.useState)([]),S=Object(l.a)(v,2),j=S[0],P=S[1],C=Object(r.useState)([]),w=Object(l.a)(C,2),k=w[0],N=w[1],R=Object(r.useState)([]),A=Object(l.a)(R,2),x=A[0],T=A[1],Y=Object(r.useState)([]),q=Object(l.a)(Y,2),_=q[0],M=q[1],B=Object(r.useState)([]),V=Object(l.a)(B,2),z=V[0],H=V[1],U=Object(r.useState)([]),L=Object(l.a)(U,2),G=L[0],W=L[1],Q=Object(r.useState)(0),X=Object(l.a)(Q,2),Z=X[0],$=X[1],ne=Object(r.useState)(0),ae=Object(l.a)(ne,2),ce=ae[0],oe=ae[1],le=Object(r.useState)({}),ue=Object(l.a)(le,2),se=ue[0],me=ue[1],pe=n&&"READY"===E&&f.getPair(n),be=function(e){return a.a.createElement(u.a,{active:!0},a.a.createElement(s.a,{size:"small"},e))};if("ERROR"===b)return be("Error connecting to the blockchain");if("READY"!==b)return be("Connecting to the blockchain");if("READY"!==E)return be("Loading accounts (please review any extension's authorization)");var fe=Object(r.createRef)();return te.formatBalance.setDefaults({decimals:12,unit:""}),a.a.createElement("div",{ref:fe},a.a.createElement(d.a,{context:fe,hidden:!0},a.a.createElement(K,{setAccountAddress:c})),a.a.createElement(m.a,null,a.a.createElement(p.a,{stackable:!0,columns:"equal"},a.a.createElement(p.a.Row,null,a.a.createElement(F,{blockNumber:Z,setBlockNumber:$}),a.a.createElement(F,{blockNumber:ce,setBlockNumber:oe,finalized:!0}),a.a.createElement(ke,{blockNumber:Z}),a.a.createElement(ge,{blockNumber:Z,accountPair:pe,members:_,indices:se,proofs:Ie}),a.a.createElement(Ce,null),a.a.createElement(re,{accountPair:pe}),a.a.createElement(Se,{accountPair:pe,founder:j,setFounder:P,indices:se,proofs:Ie}),a.a.createElement(Pe,{accountPair:pe,head:O,setHead:h,indices:se,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(Ye,null)),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(he,{accountPair:pe,members:_,setMembers:M,indices:se,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(qe,null)),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(ee,{accountPair:pe,members:_,candidates:x,suspendedCandidates:z,suspendedMembers:G,bids:k,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(ie,{accountPair:pe,bids:k,setBids:N,blockNumber:Z,indices:se,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(de,{accountPair:pe,members:_,candidates:x,setCandidates:T,blockNumber:Z,indices:se,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(Ae,{accountPair:pe,suspendedCandidates:z,setSuspendedCandidates:H,founder:j,indices:se,proofs:Ie})),a.a.createElement(p.a.Row,{centered:!0},a.a.createElement(Te,{accountPair:pe,suspendedMembers:G,setSuspendedMembers:W,founder:j,indices:se,proofs:Ie}))),a.a.createElement(I,null),a.a.createElement(J,{users:[].concat(Object(i.a)(k.map((function(e){return e.who}))),Object(i.a)(x.map((function(e){return e.who}))),Object(i.a)(_)),indices:se,setIndices:me})))}o.a.render(a.a.createElement((function(){return a.a.createElement(R,null,a.a.createElement(_e,null))}),null),document.getElementById("root"))},132:function(e){e.exports=JSON.parse('{"Dikw9VJqJ4fJFcXuKaSqu3eSwBQM6zC8ja9rdAP3RbfeK1Y":{"image":"https://i.imgur.com/1ay2Xkw.jpg","description":""},"H9eSvWe34vQDJAWckeTHWSqSChRat8bgKHG39GC1fjvEm7y":{"image":"https://i.imgur.com/5DnDfjz.png","description":""},"Dab4bfYTZRUDMWjYAUQuFbDreQ9mt7nULWu3Dw7jodbzVe9":{"image":"https://i.imgur.com/U2Rh2Kg.png","description":""}}')},625:function(e){e.exports=JSON.parse('{"APP_NAME":"Society Pallet","CUSTOM_TYPES":{}}')},679:function(e,t,n){e.exports=n(1041)},686:function(e){e.exports=JSON.parse('{"PROVIDER_SOCKET":"wss://kusama-rpc.polkadot.io","DEVELOPMENT_KEYRING":false}')},690:function(e,t){},714:function(e,t){},731:function(e,t){},733:function(e,t){},735:function(e,t){},766:function(e,t){},768:function(e,t){},774:function(e,t){},776:function(e,t){},787:function(e,t){},790:function(e,t){},806:function(e,t){},809:function(e,t){}},[[679,1,2]]]);
//# sourceMappingURL=main.af7190d9.chunk.js.map